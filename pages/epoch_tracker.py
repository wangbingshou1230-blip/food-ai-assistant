import streamlit as st
import pandas as pd

# 设置页面
st.set_page_config(page_title="时代见证器 - 投资避雷针", layout="wide")

# --- 模拟数据解析逻辑 ---
# 实际上你可以让 ingest.py 每天跑一次，更新这个 signals 列表
signals = [
    {"日期": "2026-01-24", "人物/事件": "张又侠、刘振立", "状态": "立案审查", "风险等级": "极高", "投资影响": "避开军工采购关联股"},
    {"日期": "2026-01-24", "人物/事件": "何卫东", "状态": "双开待判", "风险等级": "已释放", "投资影响": "人事清洗接近收尾"},
    {"日期": "2026-01-24", "指标监测", "状态": "战备/安全词频激增", "风险等级": "中", "投资影响": "配置战略物资储备股"}
]
df = pd.DataFrame(signals)

st.title("🛡️ 时代见证者：政经风险看板")

# 1. 核心警报
st.error("### 🚨 2026-01-24 今日核心预警")
st.write("官方正式确认张又侠、刘振立落马。这是军委高层彻底洗牌的信号。")

# 2. 信号列表
st.subheader("📊 实时信号追踪")
st.table(df)

# 3. 投资建议模块
col1, col2 = st.columns(2)
with col1:
    st.info("#### 🛡️ 防御策略")
    st.write("- 增加实物黄金/现金流占比")
    st.write("- 规避受审计风暴波及的重资产行业")
with col2:
    st.success("#### 📈 进攻策略")
    st.write("- 关注新任军委班子重点扶持的“硬核科技”")
    st.write("- 锁定农业、种业等“大一统”保供板块")

# 4. 你的专业结合：食品安全预警
st.divider()
st.subheader("🌾 硕士视角：食品供应链安全")
st.write(f"结合当前的局势，作为食品加工与安全硕士毕业生，建议关注：")
st.write("- **储备类资产**：利好粮食加工与仓储物流。")